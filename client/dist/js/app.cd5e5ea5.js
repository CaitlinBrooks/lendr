(function(t){function e(e){for(var r,i,o=e[0],c=e[1],l=e[2],u=0,v=[];u<o.length;u++)i=o[u],a[i]&&v.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);d&&d(e);while(v.length)v.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},a={app:0},s=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"02b0":function(t,e,n){t.exports=n.p+"img/Untitled.75470df6.png"},"034f":function(t,e,n){"use strict";var r=n("c21b"),a=n.n(r);a.a},"050d":function(t,e,n){"use strict";var r=n("6bad"),a=n.n(r);a.a},1745:function(t,e,n){"use strict";var r=n("232e"),a=n.n(r);a.a},"232e":function(t,e,n){},"2f37":function(t,e,n){"use strict";var r=n("db71"),a=n.n(r);a.a},"473b":function(t,e,n){"use strict";var r=n("71bd"),a=n.n(r);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var r=n("2b0e"),a=n("ce5b"),s=n.n(a);n("bf40");r["default"].use(s.a,{});var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-navigation-drawer",{attrs:{persistent:"","mini-variant":t.miniVariant,clipped:t.clipped,"enable-resize-watcher":"",fixed:"",app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[r("v-list",t._l(t.items,function(e,n){return r("v-list-tile",{key:n,attrs:{value:"true"}},[r("v-list-tile-content",[r("v-list-tile-title",{staticClass:"teal--text text--lighten-2",style:{cursor:"pointer"},domProps:{textContent:t._s(e.title)},on:{click:e.action}})],1)],1)}))],1),r("v-toolbar",{staticClass:"teal lighten-2",attrs:{app:"","clipped-left":t.clipped}},[r("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),r("v-toolbar-title",[r("span",{staticClass:"capitalize"},[t._v(t._s(t.currentRoute))])]),r("v-spacer"),r("img",{attrs:{src:n("02b0"),height:"35"}}),r("v-spacer")],1),r("v-content",[r("router-view")],1),r("v-footer",{staticClass:"teal lighten-2 justify-space-between",attrs:{fixed:t.fixed,app:""}},[r("span",{staticClass:"px-3"},[t._v("Â© 2018")]),r("span",{staticClass:"px-3"},[t._v("Make lending easier")])])],1)},o=[],c=(n("7f7f"),{name:"App",data:function(){return{userSearch:"",clipped:!1,drawer:!1,fixed:!1,items:[{title:"My Profile",action:this.profilePage},{title:"My Lends",action:this.lendsPage},{title:"My Calendar",action:this.calendarPage},{title:"Search Users",action:this.searchUsers},{title:"Logout",action:this.logout}],miniVariant:!1,right:!0,rightDrawer:!1}},computed:{currentRoute:function(){return this.$route.name}},methods:{logout:function(){this.$store.dispatch("logout"),this.drawer=!1},calendarPage:function(){this.$router.push("Calendar"),this.drawer=!1},lendsPage:function(){this.$router.push("Lends"),this.drawer=!1},profilePage:function(){this.$router.push("Profile"),this.drawer=!1},searchUsers:function(){this.$router.push("SearchUsers"),this.drawer=!1}}}),l=c,d=(n("034f"),n("2877")),u=Object(d["a"])(l,i,o,!1,null,null,null);u.options.__file="App.vue";var v=u.exports,f=n("8c4f"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-slide-y-transition",{attrs:{mode:"out-in"}},[n("v-layout",{attrs:{"align-center":"","justify-center":"",row:""}},[t.newUserForm?n("v-form",{ref:"form",staticClass:"elevation-2 pa-5",on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[n("v-text-field",{attrs:{type:"text",label:"Username",required:""},model:{value:t.newUser.name,callback:function(e){t.$set(t.newUser,"name",e)},expression:"newUser.name"}}),n("v-text-field",{attrs:{type:"text",label:"E-mail",required:""},model:{value:t.newUser.email,callback:function(e){t.$set(t.newUser,"email",e)},expression:"newUser.email"}}),n("v-text-field",{attrs:{type:"password",label:"Password",required:""},model:{value:t.newUser.password,callback:function(e){t.$set(t.newUser,"password",e)},expression:"newUser.password"}}),n("v-btn",{staticClass:"teal lighten-2",attrs:{type:"submit"}},[t._v("\n          submit\n        ")]),n("v-btn",{staticClass:"teal lighten-2",on:{click:function(e){t.newUserForm=!t.newUserForm}}},[t._v("Returning user?")])],1):n("v-form",{ref:"form",staticClass:"elevation-2 pa-5",on:{submit:function(e){return e.preventDefault(),t.loginUser(e)}}},[n("v-text-field",{attrs:{type:"text",label:"Username",required:""},model:{value:t.creds.name,callback:function(e){t.$set(t.creds,"name",e)},expression:"creds.name"}}),n("v-text-field",{attrs:{type:"password",label:"Password",required:""},model:{value:t.creds.password,callback:function(e){t.$set(t.creds,"password",e)},expression:"creds.password"}}),n("v-btn",{staticClass:"teal lighten-2",attrs:{type:"submit"}},[t._v("\n          submit\n        ")]),n("v-btn",{staticClass:"teal lighten-2",on:{click:function(e){t.newUserForm=!t.newUserForm}}},[t._v("New user?")])],1)],1)],1)],1)},h=[],p={name:"Home",data:function(){return{newUserForm:!0,creds:{email:"",password:""},newUser:{email:"",password:"",name:""}}},methods:{register:function(){this.$store.dispatch("register",this.newUser)},loginUser:function(){this.$store.dispatch("login",this.creds)}}},g=p,b=(n("050d"),Object(d["a"])(g,m,h,!1,null,"15dba242",null));b.options.__file="Home.vue";var w=b.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fill-height"},[n("v-container",{attrs:{fluid:"","fill-height":"","justify-center":""}},[n("v-layout",{attrs:{row:"","justify-center":"","align-center":""}},[n("v-flex",{attrs:{xs12:"",md6:"","mx-3":"","mt-2":"","elevation-2":""}},[n("v-card",{staticClass:"white--text",attrs:{color:"teal"}},[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{"xs-5":"","py-1":"","justify-center":""}},[n("v-img",{attrs:{src:this.user.picture,height:"125px",contain:""}}),n("v-layout",{attrs:{row:"","justify-center":""}},[n("v-btn",{attrs:{color:"teal accent-4",dark:""},on:{click:function(e){t.changeImg=!t.changeImg}}},[t._v("Change Image")])],1)],1),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.changeImg,callback:function(e){t.changeImg=e},expression:"changeImg"}},[n("v-card",[n("v-card-title",[t._v("\n                                    Update Profile Image\n                                ")]),n("v-card-text",[n("v-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.updateProfilePicture(e)}}},[n("v-text-field",{attrs:{label:"Image URL",required:""},model:{value:t.imgUrl,callback:function(e){t.imgUrl=e},expression:"imgUrl"}}),n("v-btn",{staticClass:"white--text",attrs:{type:"submit",color:"teal accent-4"},on:{click:function(e){t.changeImg=!1}}},[t._v("\n                                            Submit\n                                        ")])],1)],1),n("v-card-actions",[n("v-btn",{attrs:{color:"teal accent-4",flat:""},on:{click:function(e){t.changeImg=!1}}},[t._v("Close")])],1)],1)],1),n("v-flex",{attrs:{"xs-7":""}},[n("v-card-title",{staticStyle:{"justify-content":"center"},attrs:{"primary-title":""}},[n("div",[n("div",{staticClass:"headline"},[t._v("Welcome, "+t._s(this.user.name))]),n("div",[t._v("You have "+t._s(this.lends.length)+" current lends")]),n("div",[t._v("You have "+t._s(this.borrows.length)+" current borrows")]),n("v-btn",{attrs:{color:"teal accent-4",dark:""},on:{click:function(e){t.newLend=!t.newLend}}},[t._v("New Lend")])],1)])],1)],1),n("v-divider",{attrs:{light:""}}),n("v-card-actions",{staticClass:"pa-3"},[n("v-flex",[t._v("\n                            Your rating\n                            "),n("v-rating",{attrs:{readonly:"",color:"orange"},model:{value:t.rating,callback:function(e){t.rating=e},expression:"rating"}})],1)],1)],1)],1)],1)],1),n("v-layout",{attrs:{wrap:""}},[n("v-snackbar",{attrs:{bottom:"bottom"===t.y,left:"left"===t.x,"multi-line":"multi-line"===t.mode,right:"right"===t.x,timeout:t.timeout,top:"top"===t.y,vertical:"vertical"===t.mode},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n            You have unread borrows!\n            "),n("v-btn",{attrs:{color:"pink",flat:""},on:{click:t.viewLends}},[t._v("\n                View\n            ")])],1),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.newLend,callback:function(e){t.newLend=e},expression:"newLend"}},[n("v-card",[n("v-card-title",[t._v("\n                    Create New Lend\n                ")]),n("v-card-text",[n("v-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.findUserId(e)}}},[n("v-text-field",{attrs:{label:"Title",required:""},model:{value:t.lendTitle,callback:function(e){t.lendTitle=e},expression:"lendTitle"}}),n("v-text-field",{attrs:{label:"Item Description",required:""},model:{value:t.lendDescription,callback:function(e){t.lendDescription=e},expression:"lendDescription"}}),n("v-text-field",{attrs:{label:"Who Is This For?",required:""},model:{value:t.lendBorrower,callback:function(e){t.lendBorrower=e},expression:"lendBorrower"}}),n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.dateMenu,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.dateMenu=e}},model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[n("v-text-field",{attrs:{slot:"activator",label:"Due Date","prepend-icon":"event",readonly:""},slot:"activator",model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),n("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[n("v-spacer"),n("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v("Cancel")]),n("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.$refs.menu.save(t.dateMenu)}}},[t._v("OK")])],1)],1)],1),n("v-btn",{staticClass:"white--text",attrs:{type:"submit",color:"teal accent-4"},on:{click:function(e){t.confirmLend=!t.confirmLend}}},[t._v("\n                            Submit\n                        ")])],1)],1),n("v-card-actions",[n("v-btn",{attrs:{color:"teal accent-4",flat:""},on:{click:function(e){t.newLend=!1}}},[t._v("Close")])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.confirmLend,callback:function(e){t.confirmLend=e},expression:"confirmLend"}},[n("v-card",[n("v-card-title",[t._v("\n                    Confirm New Lend\n                ")]),n("v-card-text",{attrs:{"text-center":""}},[n("div",{staticClass:"title"},[t._v("Are you sure you want to create this lend?")]),n("div",{staticClass:"subheading"},[t._v("Title")]),n("div",{staticClass:"body-1"},[t._v(t._s(this.lendTitle))]),n("div",{staticClass:"subheading"},[t._v("Description")]),n("div",{staticClass:"body-1"},[t._v(t._s(this.lendDescription))]),n("div",{staticClass:"subheading"},[t._v("Borrower")]),n("div",{staticClass:"body-1"},[t._v(t._s(this.lendBorrower))]),n("div",{staticClass:"subheading"},[t._v("Due Date")]),n("div",{staticClass:"body-1"},[t._v(t._s(this.date))])]),n("v-btn",{on:{click:t.createLend}},[t._v("Confirm Lend")]),n("v-card-actions",[n("v-btn",{attrs:{color:"teal accent-4",flat:""},on:{click:function(e){t.confirmLend=!1}}},[t._v("Cancel")])],1)],1)],1)],1)],1)},x=[],y={name:"Profile",created:function(){this.$store.state.user._id||this.$router.push({name:"home"})},data:function(){return{imgUrl:"",changeImg:!1,newLend:!1,confirmLend:!1,lendTitle:"",lendDescription:"",lendBorrower:"",date:null,dateMenu:!1,menu:!1,y:"bottom",x:"right",mode:"",timeout:6e3,newRating:0,rateUser:!1}},computed:{user:function(){return this.$store.state.user},lends:function(){return this.$store.state.lends},borrows:function(){return this.$store.state.borrows},snackbar:function(){return this.$store.state.snackbar},rating:function(){return this.$store.state.rating}},methods:{createLend:function(){var t={title:this.lendTitle,description:this.lendDescription,borrower:{userId:this.$store.state.borrower},lendr:{userId:this.user._id},dueDate:this.date};this.$store.dispatch("createLend",t),this.newLend=!1,this.confirmLend=!1},deleteLend:function(){},updateProfilePicture:function(){var t={_id:this.user._id,picture:this.imgUrl};this.$store.dispatch("updateProfilePicture",t),console.log(t)},findUserId:function(){this.$store.dispatch("findUserId",this.lendBorrower)},viewLends:function(){this.$router.push("Lends")},sendRating:function(){var t={rating:this.newRating,userId:this.$store.state.user._id};this.$store.dispatch("sendRating",t),this.rateUser=!1}},components:{}},k=y,C=(n("1745"),Object(d["a"])(k,_,x,!1,null,"a81954ce",null));C.options.__file="Profile.vue";var U=C.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-layout",{attrs:{row:"",wrap:"","justify-space-between":""}},[n("v-flex",{attrs:{xs12:"",md4:"","two-line":""}},[n("div",{staticClass:"display-1"},[t._v("\n        My Lends\n      ")]),n("v-divider"),n("v-expansion-panel",t._l(this.myLends,function(e,r){return n("v-expansion-panel-content",{key:r,attrs:{color:"teal"}},[n("div",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(e.title))]),n("v-card",{attrs:{color:"grey darken-3 white--text"}},[n("div",{staticClass:"pl-4"},[t._v(t._s(e.description))]),n("v-layout",{staticClass:"pt-2",attrs:{row:""}},[e.borrower.returned?n("div",{staticClass:"pl-4 pt-2"},[t._v("\n                This item has been returned\n              ")]):n("div",{staticClass:"pl-3"},[n("v-btn",{attrs:{color:"teal"},on:{click:function(n){t.validateReturn(e)}}},[t._v("Has this been returned?")])],1)]),n("v-layout",{staticClass:"pt-2 pl-4",attrs:{row:""}},[e.lendr.lent?n("div",[t._v("\n                Your borrower has recieved this.\n              ")]):n("div",{staticClass:"red--text"},[t._v("\n                Your borrower has not recieved this.\n              ")])])],1)],1)}))],1),n("v-flex",{attrs:{xs12:"",md4:"","two-line":""}},[n("div",{staticClass:"display-1"},[t._v("\n        My Borrows\n      ")]),n("v-divider"),n("v-expansion-panel",t._l(this.myBorrows,function(e,r){return n("v-expansion-panel-content",{key:r,attrs:{color:"teal"}},[n("div",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(e.title))]),n("v-card",{attrs:{color:"grey darken-3 white--text"}},[n("div",{staticClass:"pl-4"},[t._v(t._s(e.description))]),n("v-layout",{staticClass:"pt-2",attrs:{row:""}},[e.lendr.lent?n("div",{staticClass:"pl-4 pt-2"},[t._v("\n                You have marked this as recieved.\n              ")]):n("div",{staticClass:"pl-3"},[n("v-btn",{attrs:{color:"teal"},on:{click:function(n){t.validateLend(e)}}},[t._v("Have you recieved this item?")])],1)]),n("v-layout",{staticClass:"pt-2 pl-4",attrs:{row:""}},[e.lendr.returned?n("div",[t._v("\n                This item has been returned.\n              ")]):n("div",{staticClass:"red--text"},[t._v("\n                Your lendr has not marked this as returned.\n              ")])])],1)],1)}))],1)],1)],1)},$=[],D={name:"Lends",created:function(){this.$store.state.user._id||this.$router.push({name:"home"})},computed:{myLends:function(){return this.$store.state.lends},myBorrows:function(){return this.$store.state.borrows},user:function(){return this.$store.state.user}},methods:{validateLend:function(t){this.$store.dispatch("validateLend",t)},validateReturn:function(t){this.$store.dispatch("validateReturn",t)},changeDueDate:function(t){var e=new Date;return parseInt(t[5]+t[6])<e.getMonth()+1?"red":parseInt(t[8]+t[9])<e.getDate()?"red":void 0}}},j=D,I=Object(d["a"])(j,L,$,!1,null,null,null);I.options.__file="Lends.vue";var P=I.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Profile"},[n("v-flex",{attrs:{xs12:"","mx-3":"","mt-2":"","elevation-2":""}},[n("v-card",{staticClass:"white--text",attrs:{color:"teal"}},[n("v-layout",{attrs:{row:""}},[n("v-flex",{staticStyle:{"justify-content":"center"},attrs:{"xs-5":"","py-1":""}},[n("v-img",{attrs:{src:this.user.picture,height:"125px",contain:""}})],1),n("v-flex",{attrs:{"xs-7":""}},[n("v-card-title",{staticStyle:{"justify-content":"center"},attrs:{"primary-title":""}},[n("div",[n("div",{staticClass:"headline"},[t._v("Welcome to "+t._s(this.user.name)+"'s page")])])])],1)],1),n("v-divider",{attrs:{light:""}}),n("v-card-actions",{staticClass:"pa-3"},[n("v-flex",[t._v("\n          User's rating\n          "),n("v-rating",{attrs:{readonly:"",color:"orange"},model:{value:t.rating,callback:function(e){t.rating=e},expression:"rating"}}),n("v-btn",{on:{click:function(e){t.rateUser=!0}}},[t._v("Rate This User")]),n("v-dialog",{attrs:{"max-width":"290"},model:{value:t.rateUser,callback:function(e){t.rateUser=e},expression:"rateUser"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("How would you rate this user?")]),n("v-rating",{attrs:{color:"orange"},model:{value:t.newRating,callback:function(e){t.newRating=e},expression:"newRating"}}),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.rateUser=!1}}},[t._v("\n                  Cancel\n                ")]),n("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.sendRating}},[t._v("\n                  Rate\n                ")])],1)],1)],1)],1)],1)],1)],1),n("v-layout",{attrs:{row:"",wrap:""}},[n("v-snackbar",{attrs:{bottom:"bottom"===t.y,left:"left"===t.x,"multi-line":"multi-line"===t.mode,right:"right"===t.x,timeout:t.timeout,top:"top"===t.y,vertical:"vertical"===t.mode},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      You have unread borrows!\n      "),n("v-btn",{attrs:{color:"pink",flat:""},on:{click:t.viewLends}},[t._v("\n        View\n      ")])],1)],1)],1)},S=[],B={name:"Profile",created:function(){this.$store.state.user._id||this.$router.push({name:"home"})},data:function(){return{imgUrl:"",changeImg:!1,newLend:!1,confirmLend:!1,lendTitle:"",lendDescription:"",lendBorrower:"",date:null,dateMenu:!1,menu:!1,y:"bottom",x:"right",mode:"",timeout:6e3,myCal:null,newRating:0,rateUser:!1}},computed:{user:function(){return this.$store.state.searchedUser},rating:function(){return this.$store.state.rating}},methods:{sendRating:function(){var t={rating:this.newRating,userId:this.$store.state.user._id};this.$store.dispatch("sendRating",t),this.rateUser=!1}}},M=B,O=(n("2f37"),Object(d["a"])(M,R,S,!1,null,"c25ce9b8",null));O.options.__file="FriendProfile.vue";var T=O.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-slide-y-transition",{attrs:{mode:"out-in"}},[n("v-layout",{attrs:{"align-center":"","justify-center":"",row:""}},[n("v-form",{ref:"form",staticClass:"elevation-2 pa-5",on:{submit:function(e){return e.preventDefault(),t.findUserId(e)}}},[n("v-text-field",{attrs:{type:"text",label:"Search for Username"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),n("v-btn",{staticClass:"teal lighten-2",attrs:{type:"submit"}},[t._v("\n          Search\n        ")])],1),n("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[n("v-card",{attrs:{color:"primary",dark:""}},[n("v-card-text",[t._v("\n            Please stand by\n            "),n("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),n("v-dialog",{attrs:{width:"500"},model:{value:t.notFound,callback:function(e){t.notFound=e},expression:"notFound"}},[n("v-card",[n("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[t._v('\n            User "'+t._s(this.username)+'" not found\n          ')]),n("v-card-text",[t._v("\n            Please try again with a different user name.\n          ")]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.notFound=!1}}},[t._v("\n              OK\n            ")])],1)],1)],1)],1)],1)],1)},E=[],N={name:"App",data:function(){return{username:"",loading:!1,notFound:!1}},methods:{findUserId:function(){this.loading=!0,this.$store.dispatch("findUser",this.username)},noUsers:function(){this.loading=!1,this.notFound=!0}},watch:{loading:function(t){t&&setTimeout(this.noUsers,1e3)}}},Y=N,q=Object(d["a"])(Y,F,E,!1,null,null,null);q.options.__file="SearchUsers.vue";var A=q.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-layout",{attrs:{row:"",wrap:"","justify-center":"","align-center":""}},[n("v-flex",{staticClass:"my-3 mx-3",attrs:{xs12:"",sm6:""}},[n("v-flex",{attrs:{"text-xs-center":""}},[n("p",{staticClass:"display-2 font-weight-medium"},[t._v("\n          My Calendar\n        ")])]),n("v-layout",[n("v-flex",{staticClass:"desktop-calendar"},[n("v-date-picker",{attrs:{"full-width":"",landscape:"",events:t.dueDates,"event-color":function(e){return t.checkDate(e)},color:"green lighten-1","header-color":"teal darken-2"},model:{value:t.myCal,callback:function(e){t.myCal=e},expression:"myCal"}})],1),n("v-flex",{staticClass:"mobile-calendar"},[n("v-date-picker",{attrs:{events:t.dueDates,"event-color":function(e){return t.checkDate(e)},color:"green lighten-1","header-color":"teal darken-2"},model:{value:t.myCal,callback:function(e){t.myCal=e},expression:"myCal"}})],1)],1)],1)],1)],1)},V=[],J={name:"Calendar",data:function(){return{myCal:null}},computed:{dueDates:function(){return this.$store.getters.dueDates}},methods:{checkDate:function(t){var e=new Date;return parseInt(t[5]+t[6])<e.getMonth()+1?"red":parseInt(t[8]+t[9])<e.getDate()?"red":"green"}}},z=J,W=(n("473b"),Object(d["a"])(z,H,V,!1,null,null,null));W.options.__file="Calendar.vue";var K=W.exports;r["default"].use(f["a"]);var G=new f["a"]({routes:[{path:"/",name:"home",component:w},{path:"/profile",name:"profile",component:U},{path:"/user",name:"user",component:T},{path:"/lends",name:"lends",component:P},{path:"/searchUsers",name:"searchUsers",component:A},{path:"/calendar",name:"calendar",component:K}]}),Q=(n("ac6a"),n("6762"),n("2fdb"),n("2f62")),X=n("bc3a"),Z=n.n(X),tt=n("8055"),et=n.n(tt),nt=(n("3c43"),{}),rt=!window.location.host.includes("localhost"),at=rt?"//lendr-app.herokuapp.com/":"//localhost:3000/",st=Z.a.create({baseURL:at+"auth/",timeout:3e3,withCredentials:!0}),it=Z.a.create({baseURL:at+"api/",timeout:6e4,withCredentials:!0});r["default"].use(Q["a"]);var ot=new Q["a"].Store({state:{user:{},searchedUser:{},lends:[],borrows:[],borrower:"",joined:!1,name:"",messages:[],roomData:{},snackbar:!1,rating:null},mutations:{setUser:function(t,e){t.user=e},setLends:function(t,e){t.lends=e},setBorrows:function(t,e){t.borrows=e},setBorrower:function(t,e){t.borrower=e},changeSnackbar:function(t,e){t.snackbar=e},setJoined:function(t,e){t.joined=!0,t.name=e},setRoom:function(t,e){t.roomData=e},newUser:function(t,e){r["default"].set(t.roomData.connectedUsers,e.userName,e.userName)},leave:function(t){t.joined=!1,t.name="",t.messages=[],t.roomData={}},setRating:function(t,e){t.rating=e},setSearchedUser:function(t,e){t.searchedUser=e,G.push({name:"user"})}},actions:{register:function(t,e){var n=t.commit;t.dispatch;st.post("register",e).then(function(t){n("setUser",t.data),G.push({name:"profile"})})},authenticate:function(t){var e=this,n=t.commit,r=t.dispatch;st.get("authenticate").then(function(t){n("setUser",t.data),n("setRating",t.data.rating.reduce(function(t,e){return t+e},0)/t.data.rating.length),G.push({name:"profile"}),r("getLends",e.state.user._id),r("getBorrows",e.state.user._id),r("join",e.state.user._id)})},login:function(t,e){var n=this,r=t.commit,a=t.dispatch;st.post("login",e).then(function(t){r("setUser",t.data),r("setRating",t.data.rating.reduce(function(t,e){return t+e},0)/t.data.rating.length),G.push({name:"profile"}),a("getLends",n.state.user._id),a("getBorrows",n.state.user._id)})},logout:function(t){var e=t.commit;st.delete("logout").then(function(t){G.push({name:"home"}),e("setUser",{})})},addLend:function(t,e){t.commit;var n=t.dispatch;it.post("lend",e).then(function(t){n("getLends"),n("sendMessage",e.borrower.userId)}).catch(function(t){console.error(t.response.data.message)})},lendConfirm:function(){},deleteLend:function(t,e){var n=t.dispatch;t.commit;it.delete("lend/"+e).then(function(t){n("getAllLends")}).catch(function(t){console.error(t.response.data.message)})},updateProfilePicture:function(t,e){var n=t.dispatch;it.put("user/edit",e).then(function(){n("getUser")})},getUser:function(t){var e=t.commit;t.dispatch;it.get("user").then(function(t){console.log(t.data[0]),e("setUser",t.data[0]),e("setRating",t.data[0].rating.reduce(function(t,e){return t+e},0)/t.data[0].rating.length)})},getLends:function(t,e){var n=t.commit;t.dispatch;it.get("lend/mylends/"+e).then(function(t){n("setLends",t.data)}).catch(function(t){console.error(t.response.data.message)})},getBorrows:function(t,e){var n=t.commit;it.get("lend/myborrows/"+e).then(function(t){n("setBorrows",t.data)}).catch(function(t){console.error(t.response.data.message)})},findUserId:function(t,e){var n=t.commit;t.dispatch;it.get("/user/findByName/"+e).then(function(t){n("setBorrower",t.data)})},findUser:function(t,e){var n=t.commit;t.dispatch;it.get("/user/findByNameFull/"+e).then(function(t){""!=t.data&&n("setSearchedUser",t.data)})},createLend:function(t,e){t.commit;var n=t.dispatch;it.post("/lend/createLend/",e).then(function(t){n("getLends",e.lendr.userId),n("sendMessage",e.borrower.userId)}).catch(function(t){console.error(t.response.data.message)})},validateLend:function(t,e){t.commit;var n=t.dispatch;e.lendr.lent=!0,it.put("/lend/myBorrows/update/"+e._id,e).then(function(){n("getBorrows",e.borrower.userId)})},validateReturn:function(t,e){t.commit;var n=t.dispatch;e.lendr.lent=!0,it.put("/lend/myLends/update/"+e._id,e).then(function(){n("getLends",e.lendr.userId)})},hideSnackbar:function(t){var e=t.commit;e("changeSnackbar",!1)},showSnackbar:function(t){var e=t.commit,n=t.dispatch;e("changeSnackbar",!0),setTimeout(function(){n("hideSnackbar")},6e3)},sendRating:function(t,e){t.commit;var n=t.dispatch;it.put("/user/rating",e).then(function(){n("getUser",e.userId)})},join:function(t,e){var n=t.commit,r=t.dispatch;n("setJoined",e),r("socket",e)},socket:function(t,e){var n=this,r=t.commit,a=t.dispatch;nt=et()(at),nt.on("CONNECTED",function(t){console.log("Connected to socket"),nt.emit("join",{name:e})}),nt.on("joinedRoom",function(t){r("setRoom",t)}),nt.on("newUser",function(t){r("newUser",t)}),nt.on("newMessage",function(t){console.log("message for"+t),t==n.state.user._id&&(a("getBorrows",t),a("showSnackbar"),console.log("You have a new borrow!"))})},sendMessage:function(t,e){t.commit,t.dispatch;nt.emit("message",e)},leaveRoom:function(t,e){var n=t.commit;t.dispatch;nt.emit("leave"),nt.close(),n("leave")}},getters:{dueDates:function(t){var e=[];return t.lends.forEach(function(t){return e.push(t.dueDate)}),t.borrows.forEach(function(t){return e.push(t.dueDate)}),e}}});r["default"].config.productionTip=!1,new r["default"]({router:G,store:ot,created:function(){this.$store.dispatch("authenticate")},render:function(t){return t(v)}}).$mount("#app")},"6bad":function(t,e,n){},7:function(t,e){},"71bd":function(t,e,n){},c21b:function(t,e,n){},db71:function(t,e,n){}});
//# sourceMappingURL=app.cd5e5ea5.js.map